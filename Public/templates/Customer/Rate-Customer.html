<!DOCTYPE html>
 <html class="no-js" lang="he" dir="rtl">
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>לקוח || חוות דעת</title>
<link rel="shortcut icon" href="images/favicon.ico" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	

	<link rel="shortcut icon" href="images/favicon.ico">

	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,300' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="/src/css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="/src/css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="/src/css/bootstrap.css">
	<!-- Superfish -->
	<link rel="stylesheet" href="/src/css/superfish.css">
	<!-- Flexslider  -->
	<link rel="stylesheet" href="/src/css/flexslider.css">
	<!-- Magnific Popup -->
	<link rel="stylesheet" href="/src/css/magnific-popup.css">
	<!-- Date Picker -->
	<link rel="stylesheet" href="/src/css/bootstrap-datepicker.css">
	<!-- CS Select -->
	<link rel="stylesheet" href="/src/css/cs-select.css">
	<link rel="stylesheet" href="/src/css/cs-skin-border.css">
	
	<link rel="stylesheet" href="/src/css/style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
	<script src="../../src/js/popup-explain.js"></script>
    <link rel="stylesheet" href="../../src/css/popup-style.css" />



	<!-- Modernizr JS -->
	<script src="js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->

</head>
<style>
       .card {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(400px, 10fr));
			gap: 70px;
			padding: 70px;


		}

		.feedback-item {
			background-color: #ffffff;
			border-radius: 20px;
			padding: 20px;
			box-shadow: 0 7px 7px rgba(0, 0, 0, 0.1);
			transition: all 0.3s ease-in-out;
			align-items: center;
			/* כדי למרכז את התוכן אופקית */
			text-align: center;
			/* כדי למרכז את התוכן אנכית */
			font-weight: bold;
		}

		.feedback-item:hover {
			transform: translateY(-5px);
			box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
		}

		.feedback-item h2 {
			font-family: 'Kunstler Script', cursive;
			margin-top: auto;
			margin-bottom: auto;
			font-weight: bold;
			font-size: 50px;
			color: rgba(120, 101, 101, 0.671);
			text-align: center;
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
		}

		.feedback-item p {
			margin: 0;
			font-size: 16px;
			color: #666666;
			font-family: 'calibri';
			margin-left: auto;
			align-items: center;
			/* כדי למרכז את התוכן אופקית */
			text-align: center;
			/* כדי למרכז את התוכן אנכית */
			font-weight: bold;
		}
	

		.feedback-card p {
			margin-bottom: 10px;
			font-size: 16px;
			align-items: center;
			text-align: center;
			font-family: 'Calibri';
			font-weight: bold;

		}

		.feedback-card h2 {
			margin-bottom: 10px;
			font-size: 50px;
			color: #6c6c6c;
			font-family: 'Kunstler Script';
			align-items: center;
			/* כדי למרכז את התוכן אופקית */
			text-align: center;
			/* כדי למרכז את התוכן אנכית */
			font-weight: initial
		}

		.star-rating {
			display: inline-block;
			unicode-bidi: bidi-override;
			color: #ffcc00;
			/* צבע הכוכבים */
			font-size: 20px;
			/* גודל הכוכבים */
			height: 1em;
			width: auto;

			/* מרווח משמאל */
			position: relative;
			padding: 0;
		}

		.star-rating::before {
			content: "\2605";
			/* תו של כוכב */
			position: absolute;
			opacity: 0;
			/* החלק הבא ישנה את השקיפות כדי להציג את מספר הכוכבים */
		}

		.star-rating:hover::before,
		.star-rating:hover~.star-rating::before {
			opacity: 1;
			color: #ffcc00;
			/* צבע הכוכבים במצב השקיפות */
		}

		.feedback-item .rating {
			display: inline-block;
			font-size: 16px;
			/* גודל הטקסט של מספר הכוכבים */
			vertical-align: middle;
		}

		.star-rating {
			display: inline-block;
			color: #ffcc00;
			/* צבע הכוכבים */
			font-size: 20px;
			/* גודל הכוכבים */
			vertical-align: middle;
			text-align: center;
			/* לישור כוכבים למרכז */
			width: 100%;
			/* לקחת את כל הרוחב של המרכז */
		}

		.star-rating::before {
			content: "\f005";
			/* תו של כוכב בגופן Font Awesome */
			font-family: 'Font Awesome';
			/* שם הגופן */
			font-weight: normal;
			font-style: normal;

			/* מרווח מימין בין האייקון למספר */
			display: inline-block;
			/* מרווח מימין בין האייקון למספר */
		}

		[class^="icon-"],
		[class*=" icon-"] {
			/* use !important to prevent issues with browser extensions that change fonts */
			font-family: 'icomoon' !important;
			color: lightpink;
			font-style: normal;
			font-weight: normal;
			font-variant: normal;
			text-transform: none;
			line-height: 1;

			/* Better Font Rendering =========== */
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
		}

		.fh5co-section-gray {
			background: rgba(0, 0, 0, 0);
		}

		.speech-bubble {
			position: relative;
			background-color: #ffffff;
			border-radius: 10px;
			padding: 15px;
			box-shadow: 0 7px 7px rgba(0, 0, 0, 0.1);
		}


		.triangle {
			position: absolute;
			bottom: -9px;
			/* מרחק מהקצה התחתון של הבועה */
			left: 20px;
			/* מיקום אופקי */
			width: 0;
			height: 0;
			border-left: 20px solid transparent;
			/* צבע המשולש נבחר בצורה שקופה */
			border-right: 20px solid transparent;
			border-top: 10px solid #ffffff;
			/* צבע המשולש */
		}

		.feedback-card {
    position: relative;
  }

  .feedback-card .date {
    position: absolute;
    top: 0;
    right: 0;
    font-size: 16px;
    font-weight: bold;
    padding-right: 20px;
	padding-top: 10px;
  }
  #footer #fh5co-header-subscribe button {
    position: absolute;
    top: 20px;
    right: -20px;
    border-top-left-radius: 0px !important;
    border-bottom-left-radius: 0px !important;
    background: #de6277;
    border: none;
	}
 .quote {
    position: absolute;
    top: 10px;
    left: -10px;
    text-align: center;
    font-size: 30px;
    display: table;
    color: #fff;
    width: 45px;
    height: 45px;
    margin-top: -30px;
    background: lightpink;
    -webkit-border-radius: 50%;
    -moz-border-radius: 50%;
    -ms-border-radius: 50%;
    border-radius: 50%;
	}
	#fh5co-testimonial .box-testimony blockquote .quote > span {
		display: table-cell;
		vertical-align: middle;
	}
	.feedback-card:hover {
				transform: translateY(-5px);
			}
</style>
<body>
	<div id="fh5co-wrapper">
		<div id="fh5co-page">
				<header id="fh5co-header-section" class="sticky-banner">
					<div class="container">
						<div class="nav-header">
							<a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle dark"><i></i></a>
							<h1 id="fh5co-logo"><a href="CustomerHome.html"><i class="icon-home"></i> תריסי סיני <span> בע״מ.</span></a></h1>
                            <nav id="fh5co-menu-wrap" role="navigation">
								<ul class="sf-menu" id="fh5co-primary-menu">
									<li><a href="CustomerHome.html">דף הבית</a></li>
									<li>
										<a>מוצרים</a>
										<ul class="fh5co-sub-menu">
											<li><a href="all-Customer.html">כל המוצרים</a></li>
										</ul>
									</li>
									<li><a href="Rate-Customer.html">הוספת חוות דעת</a></li>
									<li><a href="Forms-Customer.html">חשבוניות וקבלות</a></li>
									<li>
										<a>פגישות</a>
										<ul class="fh5co-sub-menu">
											<li><a href="meeting-Customer.html">קבע פגישה חדשה</a></li>
											<li><a href="meetingV-Customer.html">צפייה בפגישות קיימות</a></li>
										</ul>
									</li>
									<li><a href="Buy-Customer.html">בקשה להזמנה</a></li>
                                    <li>
                                        <a><svg id="infoIcon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg></a>
                                    </li>
                                    <!-- חלונית ה-popup -->
                                    <div id="popup" class="popup">
                                        <div class="popup-content">
                                            <span id="closePopup" class="close">&times;</span>
                                            <h3 class="popup-title">מתן חוות דעת</h3>
                                            <br>
                                            <div class="popup-sec-title"><h7>הסבר על הדף</h7>
                                              <div class="popup-sec-text">
                                                <p>◆ <u>בחירת דירוג</u> - בחר דירוג בין 1 ל-5 כוכבים.</p>
                                                <p>◆ <u>הוספת תגובה</u> - ניתן להוסיף תגובה חופשית על השירות או המוצר.</p>
                                                <p>◆ <u>שליחה</u> - לחץ על "שלח" כדי להעביר את המשוב למערכת.</p>
                                              </div>
                                            </div>
                                        </div>
                                    </div>
								</ul>
                            </nav>
						</div>
					</div>
					
				</header>
				<aside id="fh5co-hero" class="js-fullheight">
					<div class="flexslider js-fullheight">
						<ul class="slides">
							<li style="background-image: url(https://images.unsplash.com/photo-1633613286991-611fe299c4be?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);">
								<div class="overlay"></div>
								<div class="container-fluid">
									<div class="row">
										<div class="col-md-8 col-md-offset-2 text-center js-fullheight slider-text">
											<div class="slider-text-inner">
												<h2 class="heading-title">דירוג חוות דעת</h2>
											</div>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</div>
				</aside>
			</div>
		</div>
	</div>
		
			
	
	<div style="border-bottom: 5px solid rgb(255, 255, 255);"></div>
		<div id="fh5co-blog-section" class="fh5co-section-gray">
            <div class="container">
                <div class="row">
                    <div class="col-md-8 col-md-offset-2 text-center heading-section animate-box">
                        <h3>הוסף חוות דעת חדשה</h3>
                    </div>
                </div>
            </div>
			
			<div class="container">
                    <form id="feedbackForm" method="POST" action="/addFeedback">
						<div class="form-group">
							<label for="Username">שם משתמש:</label>
							<input type="text" class="form-control" id="Username" name="Username" required readonly>
						</div>
                        <div class="form-group">
								<label for="Name">שם מלא:</label>
								<input type="text" class="form-control" id="Name" name="Name" required>
						</div>
						<div class="form-group">
								<label for="Name">מספר טלפון:</label>
								<input type="text" class="form-control" id="Phone" name="Phone" required>
						</div>
						<div class="form-group">
							<label for="date">תאריך:</label>
							<input type="date" class="form-control"  id="Date" name="Date"  readonly>

						</div>
						<div class="form-group">
								<label for="FeedbackDesc">הערות:</label>
								<textarea class="form-control" id="FeedbackDesc" name="FeedbackDesc" required></textarea>
								<div class="form-group">
									<label for="star5"><span>דירוג כוכבים:</span></label>
									<div class="center-rating">
										<div class="rating-stars">
											<input type="radio" name="rating" id="star5" value="5">
											<label for="star5"></label>
											<input type="radio" name="rating" id="star4" value="4">
											<label for="star4"></label>
											<input type="radio" name="rating" id="star3" value="3">
											<label for="star3"></label>
											<input type="radio" name="rating" id="star2" value="2">
											<label for="star2"></label>
											<input type="radio" name="rating" id="star1" value="1">
											<label for="star1"></label>
										</div>
									</div>
								</div>
							
								<br><br><br><br><br>
						</div>
						<button type="submit" class="btn btn-primary" id="sub">הוסף חוות דעת </button><br><br>
           				 <div id="successMessage" style="display: none;" class="alert alert-success" role="alert">
                			תודה! חוות הדעת שלך נוספה בהצלחה. <br>העמוד יטען מחדש אוטומטית.
						</div>
						<div id="errorMessage" style="display: none;" class="alert alert-success" role="alert">
							תודה! חוות הדעת שלך נוספה בהצלחה. <br>העמוד יטען מחדש אוטומטית.
						</div>						
                </div>
            
			
			
		<!-- fh5co-blog-section -->
		<footer>
			<div id="footer">
			  <div class="container">
				<div class="row row-bottom-padded-md">
				  <!-- זכויות יוצרים -->
				  <p style="font-size:20px;">
					&copy; <span id="year"></span>כל הזכויות שמורות לתריסי סיני בע״מ.<br/>
					<p style="font-size:18px;">האתר נבנה ומנוהל על ידי:<br> 
					  אלעד טייר | ליאור סיני | אור מנחם | תאיר מלכה</p>
					<a style="color: #0077b6; text-decoration: none; font-weight:500 ">Terms of Use</a>|<a style="color: #0077b6; text-decoration: none; font-weight:500">Privacy Policy</a>
				  </p>
				  
				</div>
				
			  </div>
			</div>
		  </footer>

	</div>
	</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const username = sessionStorage.getItem('username');
    if (!username) {
        console.error('Username not found in session storage');
        return;
    }

    const usernameInput = document.getElementById('Username');
    if (usernameInput) {
        usernameInput.value = username;
    }
});

   
document.addEventListener("DOMContentLoaded", function () {
    // Get the current date
    var today = new Date();
    var dd = String(today.getDate()).padStart(2, "0");
    var mm = String(today.getMonth() + 1).padStart(2, "0"); //January is 0!
    var yyyy = today.getFullYear();

    today = yyyy + "-" + mm + "-" + dd;

    // Set the current date to the Date input field
    document.getElementById("Date").value = today;
});


document.addEventListener('DOMContentLoaded', async () => {
    try {
        const response = await fetch('/feedback');
        if (!response.ok) {
            throw new Error('Failed to fetch feedback data');
        }
        const data = await response.json();

        const feedbackList = document.getElementById('feedbackList');
        if (!feedbackList) {
            throw new Error('Element with ID "feedbackList" not found');
        }

        feedbackList.innerHTML = '';

        data.forEach((feedback) => {
            const card = document.createElement('div');
            card.classList.add('feedback-card');

			card.innerHTML = `
				<div class="speech-bubble">
					<span class="triangle"></span>
					<span class="quote"><i class="icon-quotes-right" style="color:white"></i></span><br>
					<h2><i class="icon-bubble2"></i> <i class="comment">${feedback.Name}</i></h2>
					<p class="date">${feedback.Date} <i class="far fa-calendar"></i></p>
					<p>${feedback.FeedbackDesc}</p>
					<p class="rating star-rating"></p><br><br>
				</div>
			`;


            const ratingElement = card.querySelector('.rating.star-rating');
            if (ratingElement) {
                const stars = '\u2605'; // אייקון של כוכב ב-Unicode
                ratingElement.textContent = stars.repeat(feedback.rating); // משנה את התוכן למספר המציין כמות כוכבים
            }

            feedbackList.appendChild(card);
        });
    } catch (error) {
        console.error('Error fetching feedback:', error.message);
    }
});


document.addEventListener("DOMContentLoaded", function () {
    var form = document.getElementById("feedbackForm");
    var successMessage = document.getElementById("successMessage");
    var errorMessage = document.getElementById("errorMessage");

    form.addEventListener("submit", function (event) {
        event.preventDefault();
        var formData = new FormData(form);
        var data = {};
        formData.forEach(function (value, key) {
            data[key] = value;
        });

        fetch("/addFeedback", { // <-- כאן התיקון
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        })
        .then(function (response) {
            if (response.ok) {
                successMessage.style.display = "block";
                errorMessage.style.display = "none";
                form.reset();
                setTimeout(function () {
                    window.location.reload();
                }, 3000);
            } else {
                errorMessage.style.display = "block";
                successMessage.style.display = "none";
            }
        })
        .catch(function (error) {
            console.error("Error:", error);
            errorMessage.style.display = "block";
            successMessage.style.display = "none";
        });
    });
});



</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>
	<script src="js/sticky.js"></script>
	<!-- Superfish -->
	<script src="js/hoverIntent.js"></script>
	<script src="js/superfish.js"></script>
	<!-- Flexslider -->
	<script src="js/jquery.flexslider-min.js"></script>
	<!-- Date Picker -->
	<script src="js/bootstrap-datepicker.min.js"></script>
	<!-- CS Select -->
	<script src="js/classie.js"></script>
	<script src="js/selectFx.js"></script>

	
	<!-- Main JS -->
	<script src="js/main.js"></script>

	</body>
</html>
