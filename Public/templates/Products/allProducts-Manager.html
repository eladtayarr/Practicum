<!DOCTYPE html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>practicum</title>
<link rel="shortcut icon" href="../../src/images/favicon.ico" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="../../../src/images/favicon.ico">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../../../src/css/animate.css">
    <link rel="stylesheet" href="../../../src/css/icomoon.css">
    <link rel="stylesheet" href="../../../src/css/bootstrap.css">
    <link rel="stylesheet" href="../../../src/css/superfish.css">
    <link rel="stylesheet" href="../../../src/css/flexslider.css">
    <link rel="stylesheet" href="../../../src/css/magnific-popup.css">
    <link rel="stylesheet" href="../../../src/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="../../../src/css/cs-select.css">
    <link rel="stylesheet" href="../../../src/css/cs-skin-border.css">
    <link rel="stylesheet" href="../../../src/css/style.css">
    

<style>
    .search-container {
    text-align: center;
    margin-bottom: 20px;
    }

    .search-container input[type=text] {
        width: 60%;
        padding: 12px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
        margin-right: 10px;
        font-size: 16px;
    }

    .search-container button {
        background-color:  #de6277;;
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
    }

    .search-container button:hover {
        background-color:  #d80f48;
    }

    @media (max-width: 768px) {
        .search-container input[type=text] {
            width: 100%;
            margin-right: 0;
        }
    }
    .property-details h3 {
            color: green;
            font-weight: bold;
        }

        .property-details h3.Not-Available {
            color: red;
            font-weight: bold;
        }
        .form-group {
            display: flex;
            align-items: center;
        }
    
        .form-group input[type="text"] {
            margin-left: -30px; /* Adjust this value as needed */
        }

        .form-group button[type="submit"] {
        margin-top: 20px; /* Adjust this value to move the button down */
    }
</style>

<header id="fh5co-header-section" class="sticky-banner">
    <div class="container">
        <div class="nav-header">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle dark"><i></i></a>
            <h1 id="fh5co-logo"><a href="../../templates/Manager/HomeManager.html"><i class="icon-home"></i> Trisi Sinai <span> Ltd.</span></a></h1>
            <nav id="fh5co-menu-wrap" role="navigation">
                <ul class="sf-menu" id="fh5co-primary-menu">
                    <li class="active"><a href="../../templates/Manager/HomeManager.html">Home</a></li>
                    <li>
                        <a>Products</a>
                        <ul class="fh5co-sub-menu">
                            <li><a href="../../templates/Products/allProducts-Manager.html">View All Products</a></li>
                            <li><a href="../../templates/Products/addNewProduct-Manager.html">Add New Product</a></li>
                            <li><a href="../../templates/Products/updateProducts-Manager.html">Update Product</a></li>
                        </ul>
                    </li>
                    <!-- New "Deals" tab containing "Deal" and "Deals View" links -->
                    <li>
                        <a>Deals</a>
                        <ul class="fh5co-sub-menu">
                            <li><a href="/../../templates/Manager/DealsV-Manager.html">View All Deals</a></li>
                            <li><a href="../../templates/Manager/addD-Manager.html">Add New Deal</a></li>
                        </ul>
                    </li>

                    <li>
                        <a>Manage</a>
                        <ul class="fh5co-sub-menu">
                            <li><a href="../../templates/Manager/addNewCustomer-Manager.html">Add New Customer</a></li>
                            <li><a href="../../templates/Manager/users-Manager.html">Add New Users</a></li>
                            <li><a href="../../templates/Installer/Add-Installations.html">Add New Installer</a></li>
                        </ul>
                    </li>
                    <li>
                        <a>Installations</a>
                        <ul class="fh5co-sub-menu">
                            <li><a href="../../templates/Installer/View-Installations.html">View All Installations</a></li>
                            <li><a href="../../templates/Installer/add-Installer.html">Add New Installation</a></li>
                        </ul>
                    </li>
                    <li>
                        <a>Reports</a>
                        <ul class="fh5co-sub-menu">
                            <li><a href="../../templates/Reports/Reports-Customer.html">Customers Reports</a></li>
                            <li><a href="../../templates/Reports/Reports-Deal.html">Deals Reports</a></li>
                            <li><a href="../../templates/Reports/Reports-Products.html">Products Reports</a></li>
                        </ul>
                    </li>
                    <li><a href="../../templates/General/Dashbord.html">Manager Dashbord</a></li>
                </ul>
            </nav>
        </div>
    </div>
</header>
    <aside id="fh5co-hero" class="js-fullheight">
        <div class="flexslider js-fullheight">
            <ul class="slides">
                <li style="background-image: url(../../src/images/ViewProducts.png);">
                    <div class="overlay">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-8 col-md-offset-2 text-center js-fullheight slider-text">
                                <div class="slider-text-inner">
                                    <h2 class="heading-title">View Products</h2>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </li>
            </ul>
        </div>
    </aside>

    <div id="fh5co-properties" class="fh5co-section-gray">
        <div class="container">
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center heading-section animate-box">
                    <h3>View All Products</h3>
                    <div class="search-container">
                    <input type="text" id="property-id-input" placeholder="Enter Property ID">
                    <button onclick="filterProperties()">Search</button>
                </div>
            </div>
            </div>

            <div class="row" id="products-container">
            </div>
        </div>
    </div>


    <footer>
        <div id="footer">
            <div class="container">
                <div class="row row-bottom-padded-md">
                    <div class="col-md-3">
                        <h3 class="section-title">About Us</h3>
                        <p>We, Bar Michal and Nofar, information systems management students at the College of Management, own all the exclusive rights to this website <i class="icon-heart3"></i></p>
                    </div>

                    <div class="col-md-3 col-md-push-1">
                        <h3 class="section-title">Links</h3>
                        <ul>
                            <li><a href="#">Home</a></li>
                            <li><a href="#">Products</a></li>
                            <li><a href="#">Agent</a></li>
                            <li><a href="#">Contact</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3">
                        <h3 class="section-title">Newsletter</h3>
                        <p>Subscribe for our newsletter</p>
                        <form class="form-inline" id="fh5co-header-subscribe">
                            <div class="row">
                                <div class="col-md-12 col-md-offset-0">
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="email" placeholder="Enter your email">
                                        <button type="submit" class="btn btn-default"><i class="icon-paper-plane"></i></button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </footer>

</div>
</div>

<script src="../../../src/js/jquery.min.js"></script>
<script src="../../../src/js/jquery.easing.1.3.js"></script>
<script src="../../../src/js/bootstrap.min.js"></script>
<script src="../../../src/js/jquery.waypoints.min.js"></script>
<script src="../../../src/js/sticky.js"></script>
<script src="../../../src/js/hoverIntent.js"></script>
<script src="../../../src/js/superfish.js"></script>
<script src="../../../src/js/jquery.flexslider-min.js"></script>
<script src="../../../src/js/bootstrap-datepicker.min.js"></script>
<script src="../../../src/js/classie.js"></script>
<script src="../../../src/js/selectFx.js"></script>
<script src="../../../src/js/main.js"></script>

<script>
    
    async function fetchProducts() {
        try {
            const response = await fetch('http://localhost:4000/Products'); // Use full URL
            const products = await response.json();
            return products;
        } catch (error) {
            console.error(error);
            throw new Error('Failed to fetch products');
        }
    }
    
    async function displayProducts(products) {
        const productsContainer = document.getElementById('products-container');
        productsContainer.innerHTML = ''; // Clear previous content
    
        products.forEach((product) => {
            try {
                const productDiv = document.createElement('div');
                productDiv.classList.add('col-md-4', 'product-item');
    
                productDiv.innerHTML = `
                    <div class="property-details">
                        <h3 class="${product.ProductStatus === 'Available' ? '' : 'Not-Available'}">
                            ${product.ProductType || "Unknown Type"}
                        </h3>
                        <img src="${product.ProductImage || 'default.jpg'}" alt="${product.ProductType}" class="img-responsive">
                        <p>${product.ProductDescription || "No description available"}</p>
                        <p>${product.ProductPrice ? `Price: $${product.ProductPrice}` : 'Price not available'}</p>
                        <p>Status: ${product.ProductStatus || "Unknown"}</p>
                    </div>
                `;
    
                productsContainer.appendChild(productDiv);
            } catch (error) {
                console.error("Error displaying product:", product, error);
            }
        });
    }

    window.onload = async function() {
        const products = await fetchProducts();
        displayProducts(products);
    };
    
</script>

</body>
</html>